package edu.harvard.we99.domain.lists;

import edu.harvard.we99.domain.BaseEntity;

import javax.annotation.Generated;
import java.util.ArrayList;
import java.util.List;

/**
 * Abstract type for lists that are returned from service calls. This is in preference
 * to returning an array since it's easier on the caller to handle objects and
 * also gives us somewhere to hang metadata about the list of things like total
 * count, page, and pageSize.
 *
 * @author mford
 */
public abstract class AbstractList<T,L> extends BaseEntity {

    /**
     * The total number of records that matched the query/listing
     */
    private Long totalCount;

    /**
     * Zero based index into our page of list results
     */
    private int page;

    /**
     * The size of each page as requested by the caller
     */
    private int pageSize;

    /**
     * The actual values
     */
    private List<T> values = new ArrayList<>();

    public AbstractList(Long totalCount, int page, int pageSize, List<T> values) {
        this.values.addAll(values);
        this.totalCount = totalCount;
        this.page = page;
        this.pageSize = pageSize;
    }

    public AbstractList() {
    }

    public int size() {return values.size();}

    @Generated("generated by IDE")
    public Long getTotalCount() {
        return totalCount;
    }

    @Generated("generated by IDE")
    public L setTotalCount(Long totalCount) {
        this.totalCount = totalCount;
        return (L) this;
    }

    @Generated("generated by IDE")
    public int getPage() {
        return page;
    }

    @Generated("generated by IDE")
    public L setPage(int page) {
        this.page = page;
        return (L) this;
    }

    @Generated("generated by IDE")
    public List<T> getValues() {
        return values;
    }

    @Generated("generated by IDE")
    public L setValues(List<T> values) {
        this.values = values;
        return (L) this;
    }

    @Generated("generated by IDE")
    public int getPageSize() {
        return pageSize;
    }

    @Generated("generated by IDE")
    public L setPageSize(int pageSize) {
        this.pageSize = pageSize;
        return (L) this;
    }
}
