package edu.harvard.we99.domain.results;

import edu.harvard.we99.domain.BaseEntity;
import edu.harvard.we99.domain.Coordinate;
import edu.harvard.we99.domain.Plate;
import edu.harvard.we99.jaxb.DateTimeAdapter;
import edu.harvard.we99.jaxb.WellResultAdapter;
import org.joda.time.DateTime;

import javax.annotation.Generated;
import javax.xml.bind.annotation.XmlTransient;
import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * Result of the plate's analysis from a device.
 *
 * @author mford
 */
public class PlateResult extends BaseEntity {
    private Long id;
    private Plate plate;

    /**
     * Temporarily set during the creation process. Not propagated to the client
     */
    @XmlTransient
    private String source;

    /**
     * Creation time
     */
    @XmlJavaTypeAdapter(DateTimeAdapter.class)
    private DateTime created;

    /**
     * Time of the last modification (computed when the bean is saved)
     */
    @XmlJavaTypeAdapter(DateTimeAdapter.class)
    private DateTime lastModified;

    /**
     * Optional comments from the user about this plate or its changes
     */
    private String comments;

    /**
     * The results by coordinate.
     */
    @XmlJavaTypeAdapter(WellResultAdapter.class)
    private Map<Coordinate,WellResults> wellResults = new HashMap<>();

    private List<PlateMetrics> metrics = new ArrayList<>();

    @Generated("generated by IDE")
    public Long getId() {
        return id;
    }

    @Generated("generated by IDE")
    public PlateResult setId(Long id) {
        this.id = id;
        return this;
    }

    @Generated("generated by IDE")
    public Plate getPlate() {
        return plate;
    }

    @Generated("generated by IDE")
    public PlateResult setPlate(Plate plate) {
        this.plate = plate;
        return this;
    }

    @Generated("generated by IDE")
    public String getSource() {
        return source;
    }

    @Generated("generated by IDE")
    public PlateResult setSource(String source) {
        this.source = source;
        return this;
    }

    @Generated("generated by IDE")
    public DateTime getCreated() {
        return created;
    }

    @Generated("generated by IDE")
    public PlateResult setCreated(DateTime created) {
        this.created = created;
        return this;
    }

    @Generated("generated by IDE")
    public DateTime getLastModified() {
        return lastModified;
    }

    @Generated("generated by IDE")
    public PlateResult setLastModified(DateTime lastModified) {
        this.lastModified = lastModified;
        return this;
    }

    @Generated("generated by IDE")
    public String getComments() {
        return comments;
    }

    @Generated("generated by IDE")
    public PlateResult setComments(String comments) {
        this.comments = comments;
        return this;
    }

    @Generated("generated by IDE")
    public Map<Coordinate, WellResults> getWellResults() {
        return wellResults;
    }

    @Generated("generated by IDE")
    public PlateResult setWellResults(Map<Coordinate, WellResults> wellResults) {
        this.wellResults = wellResults;
        return this;
    }

    @Generated("generated by IDE")
    public List<PlateMetrics> getMetrics() {
        return metrics;
    }

    @Generated("generated by IDE")
    public PlateResult setMetrics(List<PlateMetrics> metrics) {
        this.metrics = metrics;
        return this;
    }
}
